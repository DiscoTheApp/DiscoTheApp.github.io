<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
		<meta name="description" content="DISCO">
		<meta name="author" content="Tushar">

		<title>DISCO</title>

		<!-- Bootstrap core CSS -->
		<link href="bootstrap-3.3.7-dist/css/bootstrap.css" rel="stylesheet">
		<!-- Custom styles for this template -->
		<link href="jumbotron.css" rel="stylesheet">
        

		<!--Boostrap JS-->
		<link href="bootstrap-3.3.7-dist/js/bootstrap.js" rel="stylesheet">


		<!-- Firebase -->

		<script src="https://www.gstatic.com/firebasejs/3.7.0/firebase.js"></script>  
		<script src="https://www.gstatic.com/firebasejs/3.6.10/firebase-app.js"></script>
		<script src="https://www.gstatic.com/firebasejs/3.6.10/firebase-auth.js"></script>
		<script src="https://www.gstatic.com/firebasejs/3.6.10/firebase-database.js"></script>
		<script src="https://www.gstatic.com/firebasejs/3.6.10/firebase-messaging.js"></script>
		<script src="https://www.gstatic.com/firebasejs/3.7.1/firebase-storage.js"></script>


		<!--JQuery-->


		<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
		<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
		<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

        
		<!--initialize Firebase & Check Login-->
		<script src="FirebaseStart.js"> </script>

	</head>


	<body  style = "background-color: #222">
		<nav class="navbar navbar-inverse navbar-fixed-top">
			<div class="container">
				<div class="navbar-header">
					<a class="navbar-brand" href="Index.html"> DISCO </a>
					<form class="navbar-form navbar-left">
						<div class="form-group">
							<input type="text" class="form-control" style="width:300px" placeholder="Search">
						</div>
					</form>

				</div>
				<div class="navbar-right">
					<a class="navbar-brand" href="myMusic.html"> My Music </a>
					<a class="navbar-brand" href="myProfile.html" id= "navUsername"> </a> 
					<a class="navbar-brand" href="upload.html"> Post + </a>
				</div>
			</div>
		</nav>



		<!--        -->

		<div class="container" style = "background-color: #222" id="newUserDiv">
			<div style="text-align: center; background-color: #333333; color:white" class="jumbotron">
				<div class="container">
					<h1 >Discover new music.</h1>
					<p>Disco is music streaming service that allows Artists to share their music for free, and get paid for their work.</p>
					<p><a class="btn btn-primary btn-lg" href="createAccount.html" role="button">CREATE ACCOUNT</a></p>
				</div>
			</div>
		</div>
		<div class="container" style="text-align:center; color: #D7B659">

			<h1><i>NEW RELEASES</i></h1>

		</div>

		<div id="timeline">    



			<div class="timeline-left">
				<div class="innerTimeline-left">
					<div id="songBlock" style="text-align: center;color: white">
						<img  src="Images/coverArt.png"  class= "square-large" id="coverArt1" onclick="playSong1()">
						<h2 class="detail-padding" id="name1">Song Name</h2>
						<i><h2 class="detail-padding" id="artist1" style="font-size: 120%; color: #D7B659"><small>Artist Name</small></h2></i>
					</div>
				</div>
				<div class="innerTimeline-right">
					<div id="songBlock" style="text-align: center;color: white">
						<img  src="Images/coverArt.png" class= "square-large" id="coverArt2" onclick="playSong2()">
						<h2 class="detail-padding" id="name2">Song Name</h2>
						<i><h2 class="detail-padding" id="artist2" style="font-size: 120%; color: #D7B659"><small>Artist Name</small></h2>
						</i>
					</div>
				</div>

			</div>


			<div class="timeline-right">
				<div class="innerTimeline-left">
					<div id="songBlock" style="text-align: center;color: white">
						<img  src="Images/coverArt.png" class= "square-large" id="coverArt4" onclick="playSong4()">
						<h2 class="detail-padding" id="name4">Song Name</h2>
						<i><h2 class="detail-padding" id="artist4" style="font-size: 120%; color: #D7B659"><small>Artist Name</small></h2></i>
					</div>
				</div>
				<div class="innerTimeline-right">
					<div id="songBlock" style="text-align: center;color: white">
						<img  src="Images/coverArt.png" class= "square-large" id="coverArt5" onclick="playSong5()">
						<h2 class="detail-padding" id="name5">Song Name</h2>
						<i><h2 class="detail-padding" id="artist5" style="font-size: 120%; color: #D7B659"><small>Artist Name</small></h2></i>
					</div>
				</div>
			</div>


			<div class="timeline-center">
				<div id="songBlock" style="text-align: center;color: white">
					<img  src="Images/coverArt.png" class= "square-large" id="coverArt3" onclick="playSong3()">
					<h2 class="detail-padding" id="name3">Song Name</h2>
					<i><h2 class="detail-padding" id="artist3" style="font-size: 120%; color: #D7B659"><small>Artist Name</small></h2></i>
				</div>
			</div>




		</div>

		<div class="container">    
			<div style="color: #D7B659; text-align: center">
				<h1><i>FEED</i></h1>

				<!--              <H1>top songs</H1>-->
			</div>
		</div>

		
		
		
		
		

		<!--            FOOTER -->

		<footer class="footer" id = "footerPlayer" style="display: none">

			<audio id="player"></audio>

			<div class="player-left">
				<img id="footerCover" class="footerCover" style="float:left; margin-right: 10px"> 

				<h3 style="margin-top:2%; color: white; margin-bottom:1%" id="playerSong"> Song Name</h3>
				<i> <h4 style="margin-top: 2%; margin-bottom: 1%; color: #D7B659" id="playerArtist"></h4></i>
			</div>

			<div class="player-center" style="margin-top:1.5%" id="controller">

				<img  id="repeatButton"class="audioIconSmall" src="Icons/Repeat-96.png" onclick="">
				<img  id="rewindButton"class="audioIconBig" src="Icons/Rewind-100.png" onclick="">
				<img  id="playButton"class="audioIconBig" src="Icons/Pause-100.png" onclick="toggleMusic()">
				<img  id="forwardButton"class="audioIconBig" src="Icons/Fast%20Forward-100.png" onclick="">
				<img  id="shuffleButton"class="audioIconSmall" src="Icons/Shuffle-96.png" onclick="">
			</div>

			<div class="player-right" style="margin-top:1.5%">

				<!--               que-->
				<button type="button" class="btn btn-primary" style="margin-right: 1%">
					<span class="glyphicon glyphicon-list" aria-hidden="true"></span>
				</button>

				<!--                add-->
				<button type="button" class="btn btn-primary" style="margin-right: 1%">
					<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
				</button>

				<!--                like-->
				<button type="button" class="btn btn-primary" style="margin-right: 1%">
					<span class="glyphicon glyphicon-heart" aria-hidden="true"></span>
				</button>

				<!--                share-->
				<button type="button" class="btn btn-primary" style="margin-right: 1%">
					<span class="glyphicon glyphicon-flash" aria-hidden="true"></span>
				</button>

				<!--                suggest-->
				<button type="button" class="btn btn-primary" style="margin-right: 1%">
					<span class="glyphicon glyphicon-envelope"></span>
				</button>

				<!--                volume-->
				<button type="button" class="btn btn-primary" style="margin-right: 1%">
					<span class="glyphicon glyphicon-volume-up" aria-hidden="true"></span>
				</button>

			</div>


		</footer>


		<script>
			var songsRef = firebase.database().ref('songs');

			function showSong(data){
				console.log("GOT DATA!");
				console.log(data);
			}



			songsRef.limitToLast(5).on('child_added', function(data) {
				if (newNamesArray.length == 6){
					console.log("PAUSING!!!!");
					setTimeout(function() {

						songArray.splice(1, 1);
						newArtistsArray.splice(1, 1);
						newNamesArray.splice(1, 1);
						newCoverURLArray.splice(1, 1);
						newSongURLArray.splice(1,1);
						console.log("AFTER  SPLICE: ");
						console.log(newNamesArray);
						console.log(newArtistsArray);



						setTimeout(function() {
							makeSongList(data.key);

						}, 1000);

					}, 1000);



				}
				else {
					showSong(data);
					makeSongList(data.key);

				}
				console.log("SAVING KEYS: " + data.key);
			});

		</script>
		
		<script src="main.js"></script>

		<script>



			window.onload = 

				function() {    
				// NAV BAR CHOICE 
				navbarName();
			}


		</script>

	</body>

</html>